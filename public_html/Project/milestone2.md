<table><tr><td> <em>Assignment: </em> IT202 Milestone 2 Bank Project</td></tr>
<tr><td> <em>Student: </em> Neil Evans(nme6)</td></tr>
<tr><td> <em>Generated: </em> 5/4/2022 6:26:06 PM</td></tr>
<tr><td> <em>Grading Link: </em> <a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT202-010-S22/it202-milestone-2-bank-project/grade/nme6" target="_blank">Grading</a></td></tr></table>
<table><tr><td> <em>Instructions: </em> <ol>
<li>Checkout Milestone2 branch </li>
<li>Create a new markdown file called milestone2.md</li>
<li>git add/commit/push immediate</li>
<li>Fill in the milestone2.md link (from Milestone2) into the proposal.md file under each milestone2 feature</li>
<li>For each feature in the proposal add a related direct link to Heroku prod for a file related to it the feature</li>
<li>Fill in the below deliverables</li>
<li>At the end copy the markdown and paste it into milestone2.md</li>
<li>Add/commit/push the changes to Milestone2</li>
<li>PR Milestone2 to dev and verify</li>
<li>PR dev to prod and verify</li>
<li>Checkout dev locally and pull changes to get ready for Milestone 3</li>
<li>Submit the direct link to this new milestone2.md file from your GitHub prod branch to Canvas</li>
</ol>
<p>Note: Ensure all images appear properly on github and everywhere else.
Images are only accepted from dev or prod, not local host.
All website links must be from prod (you can assume/infer this by getting your dev URL and changing dev to prod). </p>
</td></tr></table>
<table><tr><td> <em>Deliverable 1: </em> Create Accounts table and setup </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot from the db of the system user (Users table)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/163885418-6b65d135-a5bc-49d8-ac79-7907684cd454.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing the creation/addition of the system_account on the Users table (used by the<br>world account)<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot from the db of the world account (Accounts table)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/163885681-faee88ce-055e-4de5-b91e-bdb3744ad2e1.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing the world account on the Accoutns table (which is assigned to the<br>same id as the system_account)<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Explain the purpose and usage of these two entries and how they relate</td></tr>
<tr><td> <em>Response:</em> <p>The purpose and usage of these two entries are surprisingly simple to explain.<br>To start, both are created from SQL scripts (3 specifically). The first script<br>created the accounts table which will hold both the world account and future<br>accounts made by users. The second SQL script inserts the &quot;system_account&quot; user into<br>the &quot;Users&quot; table with the id of -1 (and no email or password<br>as it will never be logged into). The third and final SQL script<br>inserts the &quot;world&quot; Account into the &quot;Accounts&quot; table with the same id and<br>user_id as &quot;system_account&quot; (-1) and a 12 digit ID of 000000000000 (as specified<br>in the document). All these SQL files related to the two entries relate<br>to each other because it is the entire setup of a world/system account/user<br>that allows the money to be deposited into newly created accounts by ACTUAL<br>users. It&#39;s almost like an admin account with &quot;infinite&quot; money to give away.<br></p><br></td></tr>
<tr><td> <em>Sub-Task 4: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/nme6/IT202-010/pull/51">https://github.com/nme6/IT202-010/pull/51</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 2: </em> Dashboard </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing the requested links/navigation</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166163001-4e821eae-a420-452b-a6f4-0a60800e28a5.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing the navigation/requested links on home.php (where the dashboard is located)<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Explain which ones are working for this milestone</td></tr>
<tr><td> <em>Response:</em> <p>The navigation links that are currently working on the dashboard (located on the<br>home page (home.php)) are &quot;Create Account&quot;, &quot;View My Accounts&quot;, &quot;Deposit&quot;, &quot;Withdraw&quot;, and &quot;Profile&quot;.<br>The only dashboard element that does NOT work as of now is the<br>&quot;Transfer&quot; element.<br></p><br></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/nme6/IT202-010/pull/54">https://github.com/nme6/IT202-010/pull/54</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 3: </em> Create a checking Account </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing the Create Account Page</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166163405-ea3602c4-80db-48e2-bca4-9619e06246eb.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing the create account page <br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshots showing validation errors and success message</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166163342-d763c897-1e79-459a-90ea-37834c525af5.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing the error message if you try to create an account without<br>selection an account type<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166163526-aefc3a71-71b3-4b86-845a-3a1801073297.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing the error message if you try to create an account without<br>a number entered. It redirects to the my_accounts.php because that is how I<br>set it up. The redirect will be changed come Milestone 3 (if I<br>remember to do so). Also, you can see the two previous accounts I<br>already have made in the screenshot. They are not too important to the<br>overall screenshot.<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166163684-f161585b-c036-4159-8774-019ed0422dde.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing successful account creation message (redirects to my_accounts.php because that is how<br>I set it up). The new account created is the top one (the<br>$15 balance). It also shows the two previous accounts I already had created.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add a screenshot showing the transaction generated from the initial deposit (from the DB)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166163771-f3c32568-18df-4d72-ac83-36466bf4ee6e.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing the initial deposit from within the DB. I censored previous deposits<br>because they were not relevant to this specific screenshot. <br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 4: </em> Explain which account number generation you used and the account creation process including the transaction logic</td></tr>
<tr><td> <em>Response:</em> <p>The account number generation I used is the second one suggested in the<br>document (generate the number based on the ID column). The account creation process<br>is straightforward. The code checks if the checking and deposit areas (radio button<br>and input area) are NULL in the POST method. If they are null,<br>it will flash an error message saying &quot;Account type must be selected&quot;. If<br>they aren&#39;t NULL, it will then run the nested IF statement inside the<br>first IF statement. The nested IF statement checks if the deposit is less<br>than 5 dollars. If it is, flash an error message saying &quot;Minimum deposit<br>is $5&quot;. If it isn&#39;t less than 5 dollars, it will run through<br>the entire else statement. This else will run the main try-catch block (with<br>a nested try-catch block inside of it). </p><br><p>The main try-catch block grabs the<br>database, sets variable $an (account number) to null, and has a $stmt that<br>is equal to preparing the database to insert into the Accounts table to<br>create the new account via the method I chose (Method 2). It will<br>cache a reference of the user_id in $uid before running the nested try-catch<br>block. The nested try-catch block will execute two $stmts. The first one will<br>insert what is basically a null account (that is assigned to no user).<br>Between this $stmt and the next one, the variable $account_id is created and<br>it set to the last inserted ID in the database (db-&gt;lastInsertId()) and $an<br>is redeclared for the actual account. The $an is set using the str_pad<br>method, and more specifically, it is setting $account_id as the string, 12 as<br>the length of the account number, the pad string to &quot;202&quot; (I couldn&#39;t<br>think of anything better), and the pad type as padding the LEFT side<br>of the string. This means the $an would be generated by filling as<br>many &quot;202&quot;s as it can before it had to leave space for the<br>$account_id to be inserted. So if $account_id is 3, the $an generated for<br>it would be &quot;202202202203&quot;. Finally, the second $stmt within this nested try-catch block<br>will run and set up this new account in the Account table with<br>the newly generated $an (account number) and $uid that was cached previously (along<br>with setting the type of transaction to deposit the amount requested to be<br>deposited to star the account). It will then flash a success message saying<br>&quot;Successfully created account!&quot;. The catch of this nested try-catch block will catch any<br>PDOExceptions that may occur and throw back a flash message saying &quot;An unexpected<br>error has occurred, please try again &quot; along with whatever the actual error<br>IS (via var_export printing out the &quot;errorInfo&quot; variable in a &quot;danger&quot; flash message).<br>This nested try-catch block is the end of the main try-catch block&#39;s &quot;try&quot;.<br></p><br><p>The main try-catch block&#39;s catch finally is seen and is largely doing a<br>similar thing to the nested try-catch block&#39;s catch. If it also catching any<br>PDOExceptions that may occur. However, it takes the error ($e) and stores it<br>in a new variable ($code) that safer echos $e into the errorInfo variable,<br>has a key of 0, has a default value (meant as an error<br>code) of 00000, and says $isEcho is FALSE. Under this, there is an<br>IF statement that checks if the default value changes from 00000 to 23000.<br>If this is the case, the IF statement throws the error ($e). That<br>is the end of the nested else statement of the nested IF-ELSE statement.<br></p><br><p>Finally, at the end of the main and original IF statement is some<br>very quick and simple code. The variable $aid (account_id) is set equal to<br>$account_id + 1. This new variable of $aid is then taken and thrown<br>into a call to the balance_change method. The method takes 6 parameters: <br>-<br>$balance_change: The amount being deposited/withdrawn</p><br><ul><br><li>$transaction_type: A string that says &quot;deposit&quot; or &quot;withdraw&quot;</li><br></ul><br><p>-<br>$aid: Already explained</p><br><ul><br><li>$account_src: The account source (where money is coming from)</li><br><li>$account_dest:<br>The account destination (where the money is going</li><br><li>$memo: What the memo for<br>the transaction will be<br>The balance_change declared here sets $balance_change to $deposit (the amount<br>deposited during creation (selected by the user)), $tranasaction_type to &quot;deposit&quot;, $aid as $aid,<br>$account_src as -1 (the world/system account), $account_dest as $aid, and $memo as &quot;Opening<br>balance&quot;. The refresh_account_balance method is ran (which does exactly as the name entails)<br>with the parameter of $aid (so it knows which account balance to refresh).<br>The final piece of code is simply a die function that redirects the<br>user to my_accounts.php with the flash message that is expected based on the<br>above statements.<br></li><br></ul><br></td></tr>
<tr><td> <em>Sub-Task 5: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/nme6/IT202-010/pull/56">https://github.com/nme6/IT202-010/pull/56</a> </td></tr>
<tr><td> <em>Sub-Task 6: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://nme6-prod.herokuapp.com/Project/create_account.php">https://nme6-prod.herokuapp.com/Project/create_account.php</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 4: </em> User will be able to list their accounts </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing the user's account list view (show 5 accounts)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166166064-0f29b5f4-8dae-4947-8d11-3916cd096d10.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing the user&#39;s account list view (with 5 accounts)<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Briefly explain how the page is displayed and the data lookup occurs</td></tr>
<tr><td> <em>Response:</em> <p>The page is displayed via a table that has PHP running out the<br>wazoo. The table code is quite simple as it is mostly just an<br>HTML table set up with PHP inserted in. In the <tbody> tag, there<br>is PHP code being run first to check if there are no accounts.<br>If that is the case, it displays a specific row across the entire<br>table saying &quot;No accounts found&quot;. If accounts are found, it runs the else<br>statement which has a foreach loop that pulls all $account within the $accounts<br>array and prints the data out for each in multiple <td> tags set<br>up to pull the data from the correct variables from each $account via<br>safer echo (account_number, account_type, balance, modified). That is the most I can explain<br>about how it is displayed as there is more (but it is related<br>to Transaction History).</p><br><p>The data lookup occurs quite simply. The $uid makes a return<br>as the user_id that will be cached for reference. The $query variable is<br>called for the first time and is told to select the account_number, account_type,<br>balance, created, modified, and id from the Accounts table. The $params variable is<br>also called for the first time and set to null. The $query is<br>called again and appends the result of &quot;WHERE user_id = :uid&quot; (applying the<br>WHERE filter to user_id to equal the placeholder variable of :uid). The $params<br>variable is then set to an array with a key of [&quot;:uid&quot; =&gt;<br>&quot;$uid&quot;]. Basically, the key is :uid and it is being linked to the<br>value of $uid. The $query variable is called a third time and this<br>time, it is appending the 5 things (as 5 is the limit it&#39;s<br>allowing) in descending order based on their &quot;created&quot; variable in the Accounts table<br>(ORDER BY created desc LIMIT 5). The database is called via $db =<br>getDB(); and the $stmt variable in my_accounts.php is set to prepare to pull<br>from the database whatever is being asked of by $query. An $accounts array<br>is made but not filled and we get to our try-catch block. Inside<br>the try-catch block, the try statement tells $stmt to execute checking the $params<br>variable. The variable of $results is set equal to $stmt calling the fetchAll<br>method on PDO::FETCH_ASSOC. In simpler terms, this means it is pulling only the<br>proper (or associated) information from the and storing that inside of $results. There<br>is then a quick IF-ELSE statement that checks basically if $results are non-empty/not<br>null. If yes, set the $accounts array created earlier equal to $results. If<br>not, the else statement is run which just flashes an error message saying<br>&quot;No accounts found&quot;. We hit the catch now of the try-catch block that<br>catches any PDOExceptions and if there are, it flashes an error message based<br>on the var_export (conversion to a proper string) of the $e call on<br>the errorInfo array. <br></p><br></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/nme6/IT202-010/pull/57">https://github.com/nme6/IT202-010/pull/57</a> </td></tr>
<tr><td> <em>Sub-Task 4: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://nme6-prod.herokuapp.com/Project/my_accounts.php">https://nme6-prod.herokuapp.com/Project/my_accounts.php</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 5: </em> Account Transaction Details </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot of an account's transaction history (should have at least a few samples) Show account number/type, balance, opened date and transaction details</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166167382-ca85c92b-8a19-4883-b081-8df05180bb44.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing a screenshot of an account&#39;s transaction history (specifically, account #202202202203)<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Explain how the lookup and display occurs</td></tr>
<tr><td> <em>Response:</em> <p>This lookup code is on the same page as the &quot;list accounts&quot; feature<br>(my_accounts.php) and I will get into that after explaining how it is displayed.<br>However, the display is triggered by the &quot;More Info&quot; button (which is tied<br>to each account). The display is started by the button which is nestled<br>up in the original table from listing accounts. The <td> tag holding actually<br>holds an entire form that has hidden inputs except for the button. The<br>inputs are hidden as they are what is holding a lot of information<br>that will be posted for the account information section (and holds the data<br>so it can be used for the actual Transaction history as well. The<br>inputs that are hidden hold account_id, account_number, account_type, balance, and created. For displaying,<br>once the button is hit, a HTTP POST is triggered and will display<br>the code (based on the lookup code) via the HTML given to display<br>it properly. The POST reveals both the Account Information and Transaction History tables<br>which were previously invisible. This is because the entirety of the HTML code<br>that holds the table was sitting in a PHP IF statement that was<br>checking for that POST to occur. The account information table is filled via<br>safer echos calling for the POST along with the variables needed (account_number, account_type,<br>balance, and created). The transaction history table is similar to the &quot;list accounts&quot;<br>table logic: mostly HTML, inserted php here and there. It starts with the<br>usual table code, but when we get to the php, instead of checking<br>for an empty $accounts array, we are checking for an empty $transactions array<br>with a PHP IF statement. If it is empty, the table displays a<br>specific row across the entire table saying &quot;No transactions found&quot;. If it isn&#39;t<br>empty, the PHP ELSE statement is run which runs a foreach loop that<br>sets each transaction within the $transactions array as its own $transaction. Then, via<br>safer echos, it pulls the information needed from each $transaction (account_src, account_dest, transaction_type,<br>balance_change, memo, and created). That is pretty much how it displays everything. Note,<br>you will not see the account information or transaction history if you do<br>not press the &quot;More Info&quot; button.</p><br><p>The lookup code is similar-ish to the lookup<br>code from the &quot;list accounts&quot; feature as well. However, the entirety of that<br>lookup code is nested inside an IF statement that checks if account_id in<br>the POST is set. There is no else statement with this IF statement<br>so it&#39;s just the IF statement on its own. Inside the IF statement,<br> the $src_id is set to a safer echo of $account_id via POST.<br>The $query for this is then set to select the account_src, account_dest, transaction_type,<br>balance_change, memo, and created from the Transaction_History table. The $params are set to<br>null to start. Similarly to the previous feature, $query is called again to<br>append the result of &quot;WHERE account_src = :src_id&quot; (which is setting the filter<br>to specifically the account_src to be equal to the placeholder variable of :src_id).<br>The $params are then set to an array with the key of [&quot;:src_id&quot;<br>=&gt; &quot;$src_id&quot;] (the key (:src_id) is being linked to the value ($src_id)). Then,<br>$query is called again, this time to take everything and order it by<br>descending order of when the transaction was created with a limit of 10<br>visible transactions (ORDER BY created desc LIMIT 10). The database is called via<br>$db = getDB() and the $stmt is set to prepare to pull from<br>the database whatever is being asked of by $query. A global scope is<br>applied to the creation of the $transactions variable and is then turned into<br>the $transactions array. Now we hit the try-catch block of this lookup. In<br>the try statement, the $stmt is executed based on $params and $results is<br>set equal to $stmt calling the fetchAll method on PDO::FETCH_ASSOC (which means it<br>is pulling only the proper (or associated) information from the and storing that<br>inside of $results). There is then a quick IF-ELSE statement that checks if<br>$results is non-empty/not null. If $results isn&#39;t empty/null, it sets the $transactions array<br>equal to $results. The else statement runs if $transactions is null/empty and will<br>properly flash an error message saying &quot;No transactions found&quot;. In the catch statement<br>of this try-catch block, it will catch any PDOExceptions that occur. If there<br>are any that occur, it will flash an error message based on the<br>var_export (conversion to a proper string) of the $e call on the errorInfo<br>array. <br></p><br></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/nme6/IT202-010/pull/61">https://github.com/nme6/IT202-010/pull/61</a> </td></tr>
<tr><td> <em>Sub-Task 4: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://nme6-prod.herokuapp.com/Project/my_accounts.php">https://nme6-prod.herokuapp.com/Project/my_accounts.php</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 6: </em> Deposit/Withdraw </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://via.placeholder.com/400x120/f2c037/000000?text=Partial"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Show a Screenshot of the Deposit Page</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166168444-24b1fd0e-de0b-45c8-8d5e-00cc8f9dcb7c.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot of the deposit page<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Show a Screenshot of the Withdraw Page (this potentially can be the same page with different views)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166168460-f950f256-a7fe-4ae8-b7b0-f1be087b295b.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot of the withdraw page<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Show validation error for negative numbers</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166168511-51064ca7-bd04-4dc0-adcc-445b28c76349.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot of validation error for negative numbers on deposit page<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166168567-d104b991-df63-43cd-88f6-47bb6cdadac7.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot of validation error for negative numbers on withdraw page<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 4: </em> Show validation error for withdrawing more than the account contains</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166176942-8e1b3412-1b7c-41d0-9307-6be53bf06726.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing validation error for trying to withdraw more than the account contains<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 5: </em> Show a success message for deposit and withdraw (2 screenshots)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166178715-75aa14e6-1fd6-4e99-b40d-917e4a163635.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing a success message for deposit (deposited $15 into account #202202202203 (previously<br>$5))<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166178806-c7970eee-ba1c-49c9-8adb-d93634d40c9f.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing a success message for withdraw (withdrew $15 from  account #202202202203<br>(previously $15))<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 6: </em> Show a screenshot of the transaction pairs in the DB for the above tests (should have accurate expected_total values)</td></tr>
<tr><td><table><tr><td>Missing Image</td></tr>
<tr><td> <em>Caption:</em> <p>There is no screenshot because I simply could not get it to work.<br>I tried everything to figure out how to make it work and I<br>couldn&#39;t.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 7: </em> Briefly explain how transactions work</td></tr>
<tr><td> <em>Response:</em> <p>To put it briefly, the way transactions (deposit and withdraw) work is simple.<br>The code querys all accounts under the user currently logged in. It will<br>organize it by descending order of last created (aka the most recently created<br>at the top, the oldest at the bottom). As per most of the<br>code, it will prep the database and get ready. It will fetch every<br>account and store it in the $results variable and set the $accounts array<br>equal to $results. These results will be displayed in a dropdown (noted as<br><select> tag in HTML code). If there are no accounts found, it will<br>let the user know via flashing an  error message saying &quot;No accounts<br>found&quot;. Try-catch does what it has done for the majority of explanations with<br>the catch catching any PDOExceptions. and reporting the error in a flash message.<br>Now I&#39;ll quickly split this into two for each transaction type as the<br>above explanation for the beginning part is basically the same.</p><br><p>Deposit:<br>A giant IF statement<br>that checks if POST has been sent for account_id and deposit. It will<br>then grab every input from the page via POST and store in the<br>appropriate variables ($deposit, $aid, $memo, and $balance (which uses the &quot;get_account_balance&quot; function on<br>$aid). Then, there is a nested IF/ELSE statement inside of the giant IF<br>statement that checks if the deposit isn&#39;t greater than 0. If it isn&#39;t<br>greater than 0, flash a warning message saying so and wait for the<br>user to properly input a deposit. If the deposit is greater than 0,<br>trigger the balance_change function which will deposit the amount entered, note it as<br>a deposit transaction, assign it to the proper account id, note the account<br>source of the money (which is -1 (world account)), notes the account destination<br>(which is the account id), and writes the memo given (if there even<br>is one). It will then redirect to the &quot;My Accounts&quot; page (my_accounts.php).</p><br><p>Withdraw:<br>A giant<br>IF statement that checks if POST has been sent for account_id and withdraw.<br>It will then grab every input from the page via POST and store<br>in the appropriate variables ($withdraw, $aid, $memo, and $balance (which uses the &quot;get_account_balance&quot;<br>function on $aid). Then, there is a nested IF/ELSE statement inside of the<br>giant IF statement that checks if the withdraw isn&#39;t greater than 0. If<br>it isn&#39;t greater than 0, flash a warning message saying so and wait<br>for the user to properly input a withdraw. If the withdraw is greater<br>than 0, it will then check via an ELSE IF if the withdraw<br>amount is greater than the account&#39;s current balance (via the &quot;get_account_balance&quot; function). If<br>it is greater, flash an error message saying &quot;Insufficient funds&quot; and wait for<br>a valid withdraw to occur. If the withdraw occurring doesn&#39;t meet either of<br>the IF statements (meaning it&#39;s a proper withdrawal), trigger the balance_change function which<br>will withdraw the amount entered, note it as a withdraw transaction, assign it<br>to the proper account id, note the account source of the money (the<br>account id), notes the account destination (which is -1 (world account)), and writes<br>the memo given (if there even is one). It will then redirect to<br>the &quot;My Accounts&quot; page (my_accounts.php).<br></p><br></td></tr>
<tr><td> <em>Sub-Task 8: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/nme6/IT202-010/pull/64">https://github.com/nme6/IT202-010/pull/64</a> </td></tr>
<tr><td> <em>Sub-Task 9: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://nme6-prod.herokuapp.com/Project/deposit.php">https://nme6-prod.herokuapp.com/Project/deposit.php</a> </td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://nme6-prod.herokuapp.com/Project/withdraw.php">https://nme6-prod.herokuapp.com/Project/withdraw.php</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 7: </em> Proposal.md </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em>  Add screenshots showing your updated proposal.md file with checkmarks, dates, and link to milestone1.md accordingly and a direct link to the path on Heroku prod (see instructions)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166834783-c535f6a0-bfa7-4113-9f2d-feae56b5ac73.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing the first of two screenshots of my updated Proposal.md (specifically Milestone 2<br>(features #1-6)<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166834900-8ca7733a-c919-460e-a08e-c0c6ea4329a4.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing the first of two screenshots of my updated Proposal.md (specifically Milestone 2<br>(features #7 and 8)<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshots showing which issues are done/closed (project board) Incomplete Issues should not be closed (Milestone2 issues)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166835385-773d30a5-185f-46b0-aa04-2e56f3f75109.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing the issues done/closed on the project board (Features #1-4)<br></p>
</td></tr>
<tr><td><img width="768px" src="https://user-images.githubusercontent.com/98120877/166835237-b60b7a0e-ead5-4bf6-b400-fa911a245be1.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Showing the issues done/closed on the project board (Features #5-8)<br></p>
</td></tr>
</table></td></tr>
</table></td></tr>
<table><tr><td><em>Grading Link: </em><a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT202-010-S22/it202-milestone-2-bank-project/grade/nme6" target="_blank">Grading</a></td></tr></table>